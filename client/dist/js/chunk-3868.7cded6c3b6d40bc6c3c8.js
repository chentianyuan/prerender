(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3868"],{"/6Um":function(t,a,e){(t.exports=e("I1BE")(!1)).push([t.i,"\n* {\n  padding: 0;\n  margin: 0;\n}\nhtml,\nbody {\n  font-size: 14px;\n}\na {\n  text-decoration: none;\n}\n.page-article {\n  box-sizing: border-box;\n}\n.page-article--main {\n  display: -ms-flexbox;\n  display: flex;\n  width: 900px;\n  margin: 0 auto;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n}\n.page-article--slide {\n  -ms-flex-preferred-size: 250px;\n      flex-basis: 250px;\n  box-sizing: border-box;\n  padding-top: 24px;\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n}\n.page-article--tag-title,\n.page-article--article-title {\n  font-size: 16px;\n}\n.page-article--tag-list,\n.page-article--article-list {\n  margin-top: 10px;\n  width: 100%;\n  box-sizing: border-box;\n  padding-left: 6px;\n}\n.page-article--tag-list .tag-a,\n.page-article--article-list .tag-a {\n  display: inline-block;\n  padding: 10px;\n}\n.page-article--tag-list a:hover,\n.page-article--article-list a:hover {\n  text-decoration: underline;\n}\n.page-article--tag-list p,\n.page-article--article-list p {\n  font-weight: 400;\n  line-height: 40px;\n  width: 100%;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.page-article--small-nav {\n  margin-top: 20px;\n  width: 100%;\n  position: relative;\n  color: #797979;\n}\n.page-article--small-nav .dash {\n  width: 35%;\n  height: 1px;\n  background: #f1f1f1;\n  margin-bottom: 20px;\n}\n.page-article--small-nav a {\n  padding: 0 5px;\n  color: #797979;\n}\n.stickyWrap {\n  position: -webkit-sticky;\n  position: sticky;\n  top: 60px;\n}\n",""])},"6HKL":function(t,a,e){var i=e("BX8Q");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,e("SZ7m").default)("3762a576",i,!0,{})},BX8Q:function(t,a,e){(t.exports=e("I1BE")(!1)).push([t.i,"\n* {\n  padding: 0;\n  margin: 0;\n}\nhtml,\nbody {\n  font-size: 14px;\n}\na {\n  text-decoration: none;\n}\n.page-article--loadMore {\n  text-align: center;\n  padding: 12px 0;\n  cursor: pointer;\n  color: #ccc;\n}\n",""])},cKZ4:function(t,a,e){"use strict";e.r(a);var i=e("L2JU"),n={props:{articles:Array}},l=e("JFUb");var r=function(t){e("ucO+")},s=Object(l.a)(n,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page-article-list--wrap"},[e("ul",{staticClass:"page-article-list--list"},t._l(t.articles,function(a,i){return e("li",{key:i,staticClass:"page-article-list--item"},[e("nav",{staticClass:"page-article-list--article-title",on:{click:function(e){t.$router.push({path:"/article/"+a.id})}}},[t._v(t._s(a.title))]),e("h6",{staticClass:"page-article-list--article-desc"},[t._v(t._s(a.descript))]),e("div",{staticClass:"page-article-list--article-info"},[e("span",[t._v(t._s(t._f("getLocalTime")(a.created_at)))]),e("i",{staticClass:"iconfont"},[t._v("")]),e("span",[t._v(t._s(a.meta.views)+"次阅读")]),e("i",{staticClass:"iconfont"},[t._v("")]),e("span",[t._v(t._s(a.meta.likes)+"人喜欢")]),e("i",{staticClass:"iconfont"},[t._v("")]),e("span",[t._v(t._s(a.meta.comments)+"条评论")])])])}))])},[],!1,r,null,null).exports,o=["数据加载中...","没有更多数据了"],c={name:"loadMore",render:function(t){var a=this.noMoreData?o[1]:o[0];return this.noMoreData?t("div",{attrs:{class:"page-article--loadMore"}},a):this.$props.loadMore?t("div",{attrs:{class:"page-article--loadMore"}},a):""},props:{loadMore:Boolean,noMoreData:{type:Boolean,default:!1}}};var p=function(t){e("6HKL")},g=Object(l.a)(c,void 0,void 0,!1,p,null,null).exports,d=e("Nlzp"),f={name:"article",asyncData:function(t){var a=t.context,e=t.store,i=(t.route,{params:{num:7},context:a});return e.dispatch("getHotPosts",i)},components:{ArticleList:s,LoadMoreFooter:g},data:function(){return{isDone:!1,articleArray:[],tagsList:[],loadMore:!1,noMoreData:!1,pageIndex:1}},watch:{"global.loadMoreFlag":{handler:function(t,a){t&&(this.pageIndex+=1,this.loadPost())}},$route:function(t,a){/articlePage/.test(t.fullPath)&&this.refresh()}},computed:(Object.assign||function(t){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t})({},Object(i.mapGetters)(["gethotArticles"]),{loadType:function(){return this.$route.query.tag?"byTag":"byPost"},tags:function(){return this.tagsList.map(function(t){var a=t.tagName,e=t.count,i=t.id;return{tagName:String.prototype.toUpperCase.call(a[0])+a.slice(1),tagCount:e,id:i}})},tagId:function(){return this.$route.query.tag},global:function(){return this.$store.state.global}}),mounted:function(){var t=this;console.log(this.$refs.tagWrap.getBoundingClientRect()),d.b.get(d.a.tag.getAlltags).then(function(a){t.tagsList=a.data}),this.loadPost()},activated:function(){this.refresh(),console.log("触发activited钩子")},deactivated:function(){console.log("触发deactivited钩子")},beforeDestroy:function(){console.log("触发beforeDestroy钩子")},methods:{loadPost:function(){var t=this,a={byTag:d.a.article.getArticleByPaginationWithTag,byPost:d.a.article.getArticleByPagination};d.b.post(a[this.loadType],Object.assign({pageIndex:this.pageIndex,pageSize:8},this.tagId?{tagId:this.tagId}:{})).then(function(a){t.articleArray=t.articleArray.concat(a.data.postList),8*t.pageIndex<a.data.count?t.$store.commit("LOADMOREFLAG",!1):t.noMoreData=!0})},relatedArticle:function(t){this.$router.push(this.$route.path+"?tag="+t.id)},refresh:function(){this.noMoreData=!1,this.$store.commit("LOADMOREFLAG",!1),this.articleArray=[],this.loadPost()}}};var u=function(t){e("lYTv")},h=Object(l.a)(f,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{ref:"scrollWrap",class:["page-article","hack-padding"]},[e("main",{staticClass:"page-article--main"},[e("article-list",{attrs:{articles:t.articleArray}}),e("section",{staticClass:"page-article--slide"},[e("div",[e("h3",{staticClass:"page-article--article-title"},[t._v("热门文章")]),e("div",{staticClass:"page-article--article-list"},t._l(t.gethotArticles,function(a,i){return e("p",{key:i},[e("router-link",{attrs:{to:{path:"/article/"+a.id}}},[t._v(t._s(a.descript))])],1)}))]),e("div",{ref:"tagWrap",staticClass:"stickyWrap",style:{"margin-top":"15px"}},[e("h3",{staticClass:"page-article--tag-title"},[t._v("标签")]),e("div",{staticClass:"page-article--tag-list"},t._l(t.tags,function(a,i){return e("a",{key:i,staticClass:"tag-a",on:{click:function(e){e.stopPropagation(),t.relatedArticle(a)}}},[t._v("\n            "+t._s(a.tagName)+"\n            "),e("i",[t._v("("+t._s(a.tagCount)+")")])])})),e("div",{staticClass:"page-article--small-nav"},[e("div",{staticClass:"dash"}),e("div",[e("router-link",{attrs:{to:"/aboutPage"}},[t._v("我")]),e("i",[t._v("•")]),e("router-link",{attrs:{to:"/leaveBoard"}},[t._v("留言墙")]),e("i",[t._v("•")]),e("router-link",{attrs:{to:"/firends"}},[t._v("友链")])],1)])])])],1),e("load-more-footer",{attrs:{loadMore:this.global.loadMoreFlag,noMoreData:t.noMoreData}})],1)},[],!1,u,null,null);a.default=h.exports},lYTv:function(t,a,e){var i=e("/6Um");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,e("SZ7m").default)("19bc1cc1",i,!0,{})},"ucO+":function(t,a,e){var i=e("wmvB");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,e("SZ7m").default)("0e049ea2",i,!0,{})},wmvB:function(t,a,e){(t.exports=e("I1BE")(!1)).push([t.i,'\n* {\n  padding: 0;\n  margin: 0;\n}\nhtml,\nbody {\n  font-size: 14px;\n}\na {\n  text-decoration: none;\n}\n.page-article-list--wrap {\n  float: left;\n}\n.page-article-list--wrap .page-article-list--list {\n  list-style: none;\n}\n.page-article-list--wrap .page-article-list--list .page-article-list--item {\n  padding: 24px 18px 24px 0;\n  margin-left: 18px;\n  overflow: hidden;\n  position: relative;\n}\n.page-article-list--wrap .page-article-list--list .page-article-list--item .page-article-list--article-title {\n  font-weight: 400;\n  font-size: 20px;\n  display: inline-block;\n  position: relative;\n  margin-bottom: 15px;\n  cursor: pointer;\n}\n.page-article-list--wrap .page-article-list--list .page-article-list--item .page-article-list--article-title::after {\n  content: "";\n  display: block;\n  position: absolute;\n  height: 1px;\n  background-color: #555;\n  width: 100%;\n  bottom: 0;\n  left: 0;\n  -ms-transform-origin: center center;\n      transform-origin: center center;\n  -ms-transform: scaleX(0);\n      transform: scaleX(0);\n  transition: 0.3s;\n}\n.page-article-list--wrap .page-article-list--list .page-article-list--item .page-article-list--article-title:hover::after {\n  -ms-transform: scaleX(1);\n      transform: scaleX(1);\n}\n.page-article-list--wrap .page-article-list--list .page-article-list--item .page-article-list--article-desc {\n  line-height: 24px;\n  color: #777;\n}\n.page-article-list--wrap .page-article-list--list .page-article-list--item .page-article-list--article-info {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n  margin-top: 20px;\n  color: #8c8c8c;\n  font-size: 12px;\n}\n.page-article-list--wrap .page-article-list--list .page-article-list--item::after {\n  content: "";\n  display: block;\n  position: absolute;\n  height: 1px;\n  background-color: #f1f1f1;\n  bottom: 0;\n  left: 0;\n  width: 150px;\n}\n',""])}}]);