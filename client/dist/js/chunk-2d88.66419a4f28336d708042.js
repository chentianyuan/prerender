(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d88"],{"07K2":function(n,t,e){var a=e("sEG9");(t=n.exports=e("I1BE")(!1)).i(e("t8kz"),""),t.push([n.i,"\n* {\n  padding: 0;\n  margin: 0;\n}\nhtml,\nbody {\n  font-size: 14px;\n}\na {\n  text-decoration: none;\n}\n.article-main {\n  width: 900px;\n  margin: 0 auto;\n  padding-bottom: 20px;\n  box-sizing: border-box;\n}\n.article-main .splitter-line {\n  height: 400px;\n  background-image: url("+a(e("HYpX"))+");\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: bottom;\n  margin-bottom: 10px;\n}\n.article-main .statistics-line {\n  padding: 10px 20px;\n  border: 1px solid #f6f6f6;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: initial;\n      flex-direction: initial;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n  -ms-flex-align: center;\n      align-items: center;\n}\n.article-main .statistics-line-left-like {\n  cursor: pointer;\n  padding: 5px 20px;\n  background-color: #f6f6f6;\n}\n.article-main .statistics-line-left-like i {\n  font-size: 16px;\n  vertical-align: baseline;\n  display: inline-block;\n  margin-right: 3px;\n}\n.article-main .statistics-line-left .coral i {\n  color: coral;\n}\n.article-main .statistics-line-left-comment {\n  padding: 5px 20px;\n  margin-left: 20px;\n  background-color: #f6f6f6;\n}\n.article-main-wrap {\n  padding: 20px;\n  margin: 10px auto 0;\n  color: #333;\n  border: 1px solid #f6f6f6;\n  box-sizing: border-box;\n}\n.article-main-detail {\n  padding: 10px 20px;\n  font-size: 14px;\n  width: 900px;\n  margin: 10px auto 10px;\n  box-sizing: border-box;\n  background: #fff;\n  color: #333;\n  border: 1px solid #f6f6f6;\n}\n.article-main-detail p {\n  line-height: 32px;\n}\n.article-main-comment {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: center;\n      justify-content: center;\n  -ms-flex-align: center;\n      align-items: center;\n}\n.article-main-comment-wrap {\n  width: 100%;\n  padding: 0;\n  box-sizing: border-box;\n  margin-top: 10px;\n  margin-bottom: 5px;\n}\n.article-main-comment-info {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n}\n.article-main-comment-info input {\n  outline: none;\n  font-size: 14px;\n  text-indent: 5px;\n  min-width: 220px;\n  height: 30px;\n  border: 1px solid #f1f1f1;\n}\n.article-main-comment-info input:focus {\n  border-color: #0f9db7;\n}\n.article-main-comment-text {\n  margin-top: 10px;\n}\n.article-main-comment-text textarea {\n  width: 100%;\n  outline: none;\n  height: 100px;\n  box-sizing: border-box;\n  padding: 10px;\n  resize: none;\n  font-size: 14px;\n  border: 1px solid #f1f1f1;\n}\n.article-main-comment-text textarea:focus {\n  border-color: #0f9db7;\n}\n.article-main-comment-btn button {\n  float: right;\n  margin-top: 10px;\n  margin-right: 10px;\n  height: 36px;\n  width: 70px;\n  background: #0f9db7;\n  color: #fff;\n  text-align: center;\n  line-height: 36px;\n  cursor: pointer;\n  outline: 0;\n  border: none;\n  font-size: 1em;\n  transition: 1s all;\n}\n.article-main-show-comment .comment-item {\n  display: -ms-flexbox;\n  display: flex;\n  margin-bottom: 20px;\n  padding-bottom: 20px;\n  position: relative;\n  border-bottom: 1px dashed #f1f1f1;\n}\n.article-main-show-comment .comment-item .comment-left {\n  box-sizing: border-box;\n}\n.article-main-show-comment .comment-item .comment-left img {\n  width: 40px;\n  height: 40px;\n  border-radius: 20px;\n  -ms-transform: translateY(10px);\n      transform: translateY(10px);\n}\n.article-main-show-comment .comment-item .comment-right {\n  margin-left: 15px;\n  -ms-flex: 1;\n      flex: 1;\n}\n.article-main-show-comment .comment-item .comment-right .comment-user {\n  display: -ms-flexbox;\n  display: flex;\n  height: 40px;\n  -ms-flex-align: center;\n      align-items: center;\n}\n.article-main-show-comment .comment-item .comment-right .comment-content {\n  color: #333;\n  box-sizing: border-box;\n  padding: 5px 0;\n  line-height: 26px;\n  font-size: 13px;\n}\n.article-main-show-comment .comment-item .comment-right .comment-meta {\n  display: -ms-flexbox;\n  display: flex;\n  height: 30px;\n  -ms-flex-align: center;\n      align-items: center;\n  color: #666;\n}\n",""])},HYpX:function(n,t,e){n.exports=e.p+"splitbk-mini.jpg?c7242756f343904306a5f6da6549e9b5"},"Iwy+":function(n,t,e){"use strict";e.r(t);var a=e("DlQD"),i=e.n(a),o=e("Nlzp");var r={name:"article",data:function(){return{post:{},markdown:"",focuText:"",params:{content:"",name:"",email:"",link:""},href:"",commentList:[],isLiked:!1}},computed:{showBtn:function(){return Boolean(this.params.content||this.focuText)}},methods:{submit:function(){var n=this,t=this;(function(n){return new Promise(function(t,e){var a=n.name,i=n.email,o=n.link,r=n.content;a.trim()||e("请输入昵称哦~~"),i.trim()||e("请输入邮箱哦~~"),s.email.test(i)||e("请输入正确邮箱格式哦~~"),o&&!s.url.test(o)&&e("请输入正确网址格式哦~~"),r.trim()||e("请输入留言内容哦~~"),t(n)})})(this.params).then(function(n){return o.b.post(o.a.comment.insertLeaveMessage,Object.assign({post:t.post.id},n))}).then(function(e){return new Promise(function(a,i){o.b.post(o.a.article.commentsAdd,{postId:t.post.id}).then(function(t){t.hasError||(n.$set(n.post.meta,"comments",n.post.meta.comments+1),a(e)),i("接口异常/(ㄒoㄒ)/~~")})})}).then(function(n){n&&!n.hasError&&(alert("谢谢评论~"),t.commentList.unshift(Object.assign({created_at:(new Date).toISOString(),id:t.post.id},t.params))),function n(t){Object.keys(t).forEach(function(e){"Object object"!==Object.prototype.toString.call(t[e])?t[e]="":n(t[e])})}(t.params)}).catch(alert)},likeHandler:function(){var n=this;return function(n){return function(){var t=n.apply(this,arguments);return new Promise(function(n,e){return function a(i,o){try{var r=t[i](o),s=r.value}catch(n){return void e(n)}if(!r.done)return Promise.resolve(s).then(function(n){a("next",n)},function(n){a("throw",n)});n(s)}("next")})}}(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n.isLiked){t.next=6;break}return t.next=4,o.b.post(o.a.article.likesAdd,{postId:n.post.id});case 4:t.sent.hasError||((e=JSON.parse(localStorage.getItem("isLiked"))||Object.create(null))[n.post.id]=!0,localStorage.setItem("isLiked",JSON.stringify(e)),n.$set(n.post.meta,"likes",n.post.meta.likes+1),n.isLiked=!0);case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,n,[[0,8]])}))()}},mounted:function(){var n=this;this.href=location.href;var t=this.$route.params.id,e=JSON.parse(localStorage.getItem("isLiked"));this.isLiked=!!e&&void 0!==e[t],o.b.post(o.a.article.getOnearticle,{postId:t}).then(function(t){n.post=t.data,n.markdown=i()(t.data.content),n.commentList=t.data.comment.reverse()}),o.b.post(o.a.article.viewsAdd,{postId:t}).catch(console.log)},activated:function(){console.log("article activated")}},s={email:/\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}/,url:/^((https|http):\/\/)+[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\':+!]*([^<>\"\"])*$/};var c=e("JFUb");var m=function(n){e("ONyr")},l=Object(c.a)(r,function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("section",{staticClass:"article-main hack-padding"},[a("div",{staticClass:"markdown article-main-wrap",domProps:{innerHTML:n._s(n.markdown)}}),a("div",{staticClass:"article-main-detail"},[a("p",[n._v("本文于"+n._s(new Date(n.post.created_at).toLocaleString())+"发布，浏览量"+n._s(n.post.meta?n.post.meta.views:"x")+"次")]),n.post.tags&&n.post.tags.length?a("p",[n._v("标签："),n._l(n.post.tags,function(t,e){return a("router-link",{key:e,attrs:{to:{path:"/articlePage?tag="+t.id}}},[n._v(n._s(t.tagName)+"  ")])})],2):n._e(),a("p",[n._v("作者：ytc")]),a("p",[n._v("链接："+n._s(n.href))]),a("p",[n._v("著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。")])]),a("div",{staticClass:"splitter-line"}),a("div",{staticClass:"statistics-line"},[a("div",{staticClass:"statistics-line-left"},[a("span",{class:["statistics-line-left-like",n.isLiked?"coral":""],on:{click:n.likeHandler}},[a("i",{staticClass:"iconfont icon"},[n._v(n._s(n.isLiked?"":""))]),n._v(n._s(n.post.meta?n.post.meta.likes:-1)+"人喜欢")]),n.post.meta&&n.post.meta.comments?a("span",{staticClass:"statistics-line-left-comment"},[n._v(n._s(n.post.meta.comments)+"条评论")]):n._e()])]),a("div",{staticClass:"article-main-comment"},[a("div",{staticClass:"article-main-comment-wrap"},[a("section",{staticClass:"article-main-comment-info"},[a("input",{directives:[{name:"model",rawName:"v-model",value:n.params.name,expression:"params.name"}],attrs:{type:"text",placeholder:"称呼*"},domProps:{value:n.params.name},on:{input:function(t){t.target.composing||n.$set(n.params,"name",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:n.params.email,expression:"params.email"}],attrs:{type:"text",placeholder:"邮箱（不会公开）*"},domProps:{value:n.params.email},on:{input:function(t){t.target.composing||n.$set(n.params,"email",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:n.params.link,expression:"params.link"}],attrs:{type:"text",placeholder:"友链*（http, https:// 开头）"},domProps:{value:n.params.link},on:{input:function(t){t.target.composing||n.$set(n.params,"link",t.target.value)}}})]),a("section",{staticClass:"article-main-comment-text"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:n.params.content,expression:"params.content"}],staticClass:"article-main-comment-text-textarea",attrs:{name:"content",cols:"30",rows:"10",placeholder:"来了老弟~"},domProps:{value:n.params.content},on:{focus:function(t){n.focuText=!0},blur:function(t){n.focuText=!1},input:function(t){t.target.composing||n.$set(n.params,"content",t.target.value)}}})]),a("div",{staticClass:"article-main-comment-btn"},[a("transition",{attrs:{name:"fade"}},[a("button",{directives:[{name:"show",rawName:"v-show",value:n.showBtn,expression:"showBtn"}],on:{click:n.submit}},[n._v("评论")])])],1)])]),a("div",{staticClass:"article-main-show-comment"},n._l(n.commentList,function(t,i){return a("div",{key:i,staticClass:"comment-item"},[a("div",{staticClass:"comment-left"},[a("img",{attrs:{src:e("nhcC")}})]),a("div",{staticClass:"comment-right"},[a("div",{staticClass:"comment-meta"},[n._v("\n          "+n._s(n._f("getLocalTime")(t.created_at))+"\n        ")]),a("div",{staticClass:"comment-content"},[n._v("\n          "+n._s(t.content)+"\n        ")]),a("div",{staticClass:"commet-user"},[a("a",{attrs:{href:"javascript:"}},[n._v(n._s(t.name))])])])])}))])},[],!1,m,null,null);t.default=l.exports},ONyr:function(n,t,e){var a=e("07K2");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);(0,e("SZ7m").default)("38050852",a,!0,{})},nhcC:function(n,t,e){n.exports=e.p+"avatar.png?a8ab34e340b418ffb0aa5f796b9971e4"},t8kz:function(n,t,e){(n.exports=e("I1BE")(!1)).push([n.i,".markdown{\n  margin: 0 auto;\n  padding: 20px;\n  font-size: 16px;\n  line-height: 32px;\n}\n.markdown p {\n  font-size: 16px;\n  line-height: 32px;\n  margin: 16px 0;\n}\n.markdown li {\n  margin-left: 24px;\n}\n.markdown ol li{\n  list-style: decimal;\n}\n.markdown ul li {\n  list-style: disc;\n}\n.markdown h1,\n.markdown h2,\n.markdown h3,\n.markdown h4,\n.markdown h5,\n.markdown h6 {\n  margin: 12px 0;\n}\n.markdown h1{\n  margin-top: 0;\n  padding-bottom: 24px;\n  border-bottom: 1px dotted #cccccc;\n  text-align: center;\n  font-size: 26px;\n  color: #333333;\n}\n.markdown h3{\n  font-size: 20px;\n}\n.markdown a {\n  color: #4682b4;\n  text-decoration: none;\n}\n.markdown a:hover {\n  color: #0081ff;\n}\n.markdown pre {\n  background-color: rgba(0, 0, 0, 0.05);\n  color: #555;\n  border-radius: 3px;\n  padding: 10px;\n  overflow: auto;\n  border: none;\n  font-size: 0.9em;\n  line-height: 1.33;\n  overflow: scroll;\n}\n.markdown li{\n  margin-left: 24px;\n}\n/* .markdown li:hover{\n  background: #f1f1f1\n} */\n.markdown li p {\n  text-indent: 0;\n}\n.markdown pre code {\n  font-size: inherit;\n  color: inherit;\n  padding: 0;\n  background-color: transparent;\n  font-style: normal;\n}\n.markdown code {\n  color: #d82451;\n  background-color: #f6f6f6;\n  font-size: 0.9em;\n  padding: 2px 4px;\n  margin: 0 2px;\n}\n.markdown blockquote {\n  margin: 0;\n  border-left: 5px solid #4682b4;\n  background-color: #f5f5f5;\n  margin: 10px 0;\n}\n.markdown blockquote p {\n  padding: 5px 0 5px 10px;\n  text-indent: 0;\n}\n.markdown table {\n  border: 1px solid #cccccc;\n}\n.markdown table thead tr {\n  background-color: #eee;\n}\n.markdown table tbody tr {\n  border-top: 1px solid #cccccc;\n  background-color: #fff;\n}\n.markdown table th,\n.markdown table td {\n  padding: 8px;\n  border-left: 1px solid #cccccc;\n}\n.markdown hr {\n  border-style: solid;\n  border-color: #ccc;\n}\n.markdown img {\n  max-width: 100%;\n  margin: 20px auto;\n  display: block;\n}",""])}}]);